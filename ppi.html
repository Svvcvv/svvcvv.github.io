<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>像素计算器 - 专业DPI/PPI计算工具</title>
    <script src="assets/js/v.js"></script>
     <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="assets/js/fonts.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        accent: '#FF7D00',
                        dark: '#1D2129',
                        light: '#F2F3F5',
                        'gray-light': '#C9CDD4',
                        'gray-medium': '#86909C',
                        'gray-dark': '#4E5969'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-shadow {
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            }
            .hover-lift {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .hover-lift:hover {
                transform: translateY(-3px);
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
            }
            .input-focus {
                transition: all 0.2s ease;
            }
            .input-focus:focus {
                border-color: #165DFF;
                box-shadow: 0 0 0 3px rgba(22, 93, 255, 0.1);
            }
            .result-pulse {
                animation: pulse 0.5s ease;
            }
            @keyframes pulse {
                0% { background-color: rgba(22, 93, 255, 0.05); }
                50% { background-color: rgba(22, 93, 255, 0.1); }
                100% { background-color: rgba(22, 93, 255, 0.05); }
            }
        }
    </style>
</head>

<body class="font-inter bg-gray-50 text-dark">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- 页面标题 -->
        <header class="text-center mb-12">
            <h1 class="text-[clamp(2rem,5vw,3rem)] font-bold text-dark mb-4">DPI/PPI 计算器</h1>
            <p class="text-gray-medium text-lg max-w-3xl mx-auto">
                便捷的像素密度计算器，可快速计算屏幕的每英寸点数(PPI)，并提供屏幕尺寸、点距、纵横比、像素数和百万像素等信息
            </p>
        </header>

        <!-- 主要内容区 -->
        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- 计算器卡片 -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-xl p-6 card-shadow hover-lift">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold mb-2 flex items-center">
                            <i class="fa fa-calculator text-primary mr-2"></i>像素密度计算器
                        </h2>
                        <p class="text-gray-medium">输入屏幕分辨率和对角线尺寸，获取详细的显示参数</p>
                    </div>

                    <!-- 计算器表单 -->
                    <form onsubmit="do_dpi()" action="#" class="mb-6">
                        <div class="bg-light rounded-lg p-5 mb-6">
                            <h3 class="font-medium text-gray-dark mb-4">输入信息</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- 输入区域 -->
                                <div>
                                    <div class="mb-4">
                                        <label for="hor" class="block text-sm font-medium text-gray-dark mb-1">水平分辨率:</label>
                                        <div class="flex items-center">
                                            <input id="hor" type="number" value="1280" onkeyup="do_dpi()"
                                                class="w-full px-3 py-2 border border-gray-light rounded-md input-focus"
                                                placeholder="像素">
                                            <span class="ml-2 text-gray-medium">像素</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-4">
                                        <label for="vert" class="block text-sm font-medium text-gray-dark mb-1">垂直分辨率:</label>
                                        <div class="flex items-center">
                                            <input id="vert" type="number" value="1024" onkeyup="do_dpi()"
                                                class="w-full px-3 py-2 border border-gray-light rounded-md input-focus"
                                                placeholder="像素">
                                            <span class="ml-2 text-gray-medium">像素</span>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label for="diag" class="block text-sm font-medium text-gray-dark mb-1">对角线尺寸:</label>
                                        <div class="flex items-center">
                                            <input id="diag" type="number" value="22" onkeyup="do_dpi()"
                                                class="w-full px-3 py-2 border border-gray-light rounded-md input-focus"
                                                placeholder="英寸">
                                            <span class="ml-2 text-gray-medium">英寸</span>
                                        </div>
                                        <p class="text-xs text-gray-medium mt-1">
                                            (<span id="metricdiag">68.58</span>厘米)
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- 快速信息 -->
                                <div class="flex flex-col justify-center">
                                    <div class="bg-white p-4 rounded-md border border-gray-light">
                                        <div class="mb-3">
                                            <span class="text-sm text-gray-medium">百万像素: </span>
                                            <span id="mpix" class="font-medium">3.69</span>
                                        </div>
                                        <div>
                                            <span class="text-sm text-gray-medium">屏幕比例: </span>
                                            <span id="aspect" class="font-medium">16:9</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 结果区域 -->
                        <div id="result-container" class="bg-primary/5 rounded-lg p-5 result-pulse">
                            <h3 class="font-medium text-gray-dark mb-3">计算结果</h3>
                            <div id="result" class="text-sm md:text-base leading-relaxed">
                                屏幕尺寸: 23.53" × 13.24" = 311.5in² (59.77cm × 33.62cm = 2009.68cm²) 
                                <abbr title="每英寸像素数">PPI: </abbr>
                                <span style="color: #165DFF;" title="Y: 108.79">108.79,</span> 
                                点距: 0.2335mm, 
                                <abbr title="每平方英寸像素">PPI²: </abbr>11834
                            </div>
                            
                            <button type="button" 
                                onclick="document.getElementById('saved').innerHTML = document.getElementById('saved').innerHTML + document.getElementById('result').innerHTML; 
                                         this.classList.add('bg-green-500');
                                         setTimeout(() => this.classList.remove('bg-green-500'), 1000);"
                                class="mt-4 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors">
                                <i class="fa fa-save mr-1"></i>保存结果
                            </button>
                        </div>
                        
                        <!-- 保存的结果 -->
                        <div id="saved" class="mt-4 text-sm text-gray-dark min-h-[24px]"></div>
                    </form>
                </div>
            </div>

            <!-- 快捷参考 -->
            <div>
                <div class="bg-white rounded-xl p-6 card-shadow hover-lift h-full">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fa fa-list-ul text-primary mr-2"></i>快捷参考
                    </h2>
                    
                    <!-- 分辨率快捷链接 -->
                    <div class="mb-6">
                        <h3 class="font-medium text-gray-dark mb-3">常见分辨率</h3>
                        <div class="grid grid-cols-2 gap-2 max-h-64 overflow-y-auto pr-2">
                            <a href="javascript:set_mon(1280,720)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">1280×720 (720p)</a>
                            <a href="javascript:set_mon(1920,1080)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">1920×1080 (1080p)</a>
                            <a href="javascript:set_mon(2560,1440)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">2560×1440 (1440p)</a>
                            <a href="javascript:set_mon(3840,2160)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">3840×2160 (4K)</a>
                            <a href="javascript:set_mon(7680,4320)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">7680×4320 (8K)</a>
                            <a href="javascript:set_mon(1024,768)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">1024×768 (XGA)</a>
                            <a href="javascript:set_mon(1366,768)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">1366×768 (HD)</a>
                            <a href="javascript:set_mon(1600,900)" class="px-2 py-1 bg-light hover:bg-primary/10 rounded text-sm text-center transition-colors">1600×900 (HD+)</a>
                        </div>
                    </div>
                    
                    <!-- 屏幕尺寸快捷链接 -->
                    <div>
                        <h3 class="font-medium text-gray-dark mb-3">常见屏幕尺寸 (英寸)</h3>
                        <div class="flex flex-wrap gap-2">
                            <a href="javascript:set_mon(0,0,13.3)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">13.3"</a>
                            <a href="javascript:set_mon(0,0,14)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">14"</a>
                            <a href="javascript:set_mon(0,0,15.6)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">15.6"</a>
                            <a href="javascript:set_mon(0,0,21.5)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">21.5"</a>
                            <a href="javascript:set_mon(0,0,23)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">23"</a>
                            <a href="javascript:set_mon(0,0,24)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">24"</a>
                            <a href="javascript:set_mon(0,0,27)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">27"</a>
                            <a href="javascript:set_mon(0,0,32)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">32"</a>
                            <a href="javascript:set_mon(0,0,43)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">43"</a>
                            <a href="javascript:set_mon(0,0,55)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">55"</a>
                            <a href="javascript:set_mon(0,0,65)" class="px-3 py-1 bg-light hover:bg-primary/10 rounded text-sm transition-colors">65"</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- 使用说明 -->
        <section class="mt-12 bg-white rounded-xl p-6 card-shadow">
            <h2 class="text-xl font-semibold mb-4 flex items-center">
                <i class="fa fa-question-circle text-primary mr-2"></i>如何使用 DPI 计算器？
            </h2>
            
            <p class="text-gray-dark mb-4">
                要计算屏幕的DPI/PPI，您需要知道设备的水平和垂直像素分辨率，以及屏幕的对角线尺寸（以英寸为单位）。
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div class="bg-light p-4 rounded-lg">
                    <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-3">
                        <i class="fa fa-keyboard-o text-primary"></i>
                    </div>
                    <h3 class="font-medium mb-2">输入参数</h3>
                    <p class="text-sm text-gray-medium">在相应的输入框中输入水平和垂直像素分辨率</p>
                </div>
                
                <div class="bg-light p-4 rounded-lg">
                    <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-3">
                        <i class="fa fa-arrows-h text-primary"></i>
                    </div>
                    <h3 class="font-medium mb-2">输入尺寸</h3>
                    <p class="text-sm text-gray-medium">以英寸为单位输入屏幕对角线尺寸</p>
                </div>
                
                <div class="bg-light p-4 rounded-lg">
                    <div class="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-3">
                        <i class="fa fa-eye text-primary"></i>
                    </div>
                    <h3 class="font-medium mb-2">查看结果</h3>
                    <p class="text-sm text-gray-medium">计算器会自动计算并显示详细参数结果</p>
                </div>
            </div>
            
            <p class="text-gray-dark">
                计算结果将包含屏幕的物理尺寸（英寸和厘米）、每英寸像素数(PPI)、点距、每平方英寸像素数以及其他有用的显示参数。
            </p>
        </section>

        <!-- 设备参考列表 -->
        <section class="mt-12">
            <h2 class="text-xl font-semibold mb-6 flex items-center">
                <i class="fa fa-mobile text-primary mr-2"></i>常见设备像素密度参考
            </h2>
            
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white rounded-xl card-shadow">
                    <thead>
                        <tr class="bg-light">
                            <th class="py-3 px-4 text-left text-sm font-medium text-gray-dark">设备</th>
                            <th class="py-3 px-4 text-left text-sm font-medium text-gray-dark">分辨率</th>
                            <th class="py-3 px-4 text-left text-sm font-medium text-gray-dark">屏幕尺寸</th>
                            <th class="py-3 px-4 text-left text-sm font-medium text-gray-dark">PPI</th>
                        </tr>
                    </thead>
                    <tbody id="mylist" class="divide-y divide-gray-light">
                        <!-- 设备数据将通过JavaScript动态生成 -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 页脚 -->
        <footer class="bg-neutral-800 text-neutral-300 py-6 mt-20">
            <div class="max-w-6xl mx-auto px-4 text-center text-sm">
                <p class="mb-2">蚊!帐! [○･｀Д´･ ○]--Rooteater</p>
                <p class="text-neutral-500">© 2025 All Rights Reserved</p>
            </div>
        </footer>
    </div>

    <script type="text/javascript">
        // 工具函数：四舍五入保留两位小数
        function round2(i) {
            return Math.round(i * 100) / 100;
        }

        // 计算DPI相关参数
        function calc_dpi(x, y, diag) {
            var ratio = y / x;
            var xd = Math.sqrt(Math.pow(diag, 2) / (1 + Math.pow(ratio, 2)));
            var yd = xd * ratio;
            var pitch = 25.4 / (x / xd); // 点距(毫米)
            var result = {
                metricdiag: diag * 2.54,
                sizex: xd,
                sizey: yd,
                area: xd * yd,
                metricsizex: 2.54 * xd,
                metricsizey: 2.54 * yd,
                metricarea: xd * yd * 2.54 * 2.54,
                xppi: x / xd,
                yppi: y / yd,
                dotpitch: pitch,
                sqppi: x / xd * y / yd
            };
            return result;
        }

        // 执行计算并更新结果
        function do_dpi() {
            if (!document.getElementById) {
                alert("您的浏览器不支持基本的DOM API，无法使用此计算器。");
                return;
            }
            
            var x = parseInt(document.getElementById('hor').value) || 0;
            var y = parseInt(document.getElementById('vert').value) || 0;
            var diag = parseFloat(document.getElementById('diag').value) || 0;
            
            if (y <= 0 || x <= 0 || diag <= 0) return;
            
            var result = calc_dpi(x, y, diag);
            
            // 更新对角线的公制单位显示
            document.getElementById('metricdiag').textContent = round2(result.metricdiag);
            
            // 更新计算结果
            const resultContainer = document.getElementById('result-container');
            resultContainer.classList.add('result-pulse');
            setTimeout(() => resultContainer.classList.remove('result-pulse'), 500);
            
            document.getElementById('result').innerHTML = 
                '屏幕尺寸: ' + round2(result.sizex) + '" × ' + round2(result.sizey) + '" = ' +
                round2(result.area) + 'in² (' +
                round2(result.metricsizex) + 'cm × ' + round2(result.metricsizey) + 'cm = ' +
                round2(result.metricarea) + 'cm²) ' +
                ' <abbr title="每英寸像素数">PPI: </abbr>' +
                '<span style="color: #165DFF;" title="Y: ' + round2(result.yppi) + '">' + round2(result.xppi) + ',</span>' +
                ' 点距: ' +
                Math.round(result.dotpitch * 10000) / 10000 + 'mm, ' +
                ' <abbr title="每平方英寸像素">PPI²: </abbr>' +
                Math.round(result.sqppi);
            
            // 更新百万像素和屏幕比例
            document.getElementById('aspect').textContent = aspect_ratio(x, y);
            document.getElementById('mpix').textContent = in_megapixels(x, y);
        }

        // 计算百万像素
        function in_megapixels(x, y) {
            return round2(x * y / 1000000);
        }

        // 计算屏幕比例
        function aspect_ratio(x, y) {
            var car = { // 常见的屏幕比例
                "3:4": 3 / 4,
                "1:1": 1,
                "5:4": 5 / 4,
                "4:3": 4 / 3,
                "3:2": 3 / 2,
                "16:10": 16 / 10,
                "16:9": 16 / 9,
                "21:9": 21 / 9
            };
            
            var ratio = x / y;
            for (var ratio_name in car) {
                var r2 = car[ratio_name];
                if (Math.abs(r2 / ratio - 1) < 0.016)  // 1.6%的误差范围内认为匹配
                    return ratio_name;
            }
            
            // 未知比例，直接计算
            return round2(x / y) + ":1";
        }

        // 设置分辨率和尺寸
        function set_mon(x, y, diag) {
            if (x) document.getElementById('hor').value = x;
            if (y) document.getElementById('vert').value = y;
            if (diag) document.getElementById('diag').value = diag;
            do_dpi();
        }

        // 生成设备参考列表
        function gen_device_list() {
            var data = [
                ["Apple iPhone 13", "2532×1170", "6.1\"", "460"],
                ["Apple iPhone 13 Pro Max", "2778×1284", "6.7\"", "458"],
                ["Samsung Galaxy S21", "2400×1080", "6.2\"", "421"],
                ["Google Pixel 6", "2400×1080", "6.4\"", "411"],
                ["iPad Pro 12.9\"", "2732×2048", "12.9\"", "264"],
                ["MacBook Pro 16\"", "3072×1920", "16\"", "226"],
                ["27\" iMac 5K", "5120×2880", "27\"", "218"],
                ["24\" 4K显示器", "3840×2160", "24\"", "183"],
                ["27\" 2K显示器", "2560×1440", "27\"", "109"],
                ["24\" 1080p显示器", "1920×1080", "24\"", "92"],
                ["15.6\"笔记本", "1920×1080", "15.6\"", "141"],
                ["43\" 4K电视", "3840×2160", "43\"", "102"],
                ["55\" 4K电视", "3840×2160", "55\"", "80"],
                ["65\" 4K电视", "3840×2160", "65\"", "68"],
            ];
            
            var tableBody = document.getElementById('mylist');
            tableBody.innerHTML = '';
            
            data.forEach(item => {
                var row = document.createElement('tr');
                row.className = "hover:bg-light/50 transition-colors";
                
                item.forEach((cellData, index) => {
                    var cell = document.createElement('td');
                    cell.className = "py-3 px-4";
                    cell.textContent = cellData;
                    if (index === 3) {
                        cell.className += " font-medium text-primary";
                    }
                    row.appendChild(cell);
                });
                
                tableBody.appendChild(row);
            });
        }

        // 页面加载完成后初始化
        window.onload = function() {
            do_dpi();
            gen_device_list();
        };
    </script>
</body>
</html>