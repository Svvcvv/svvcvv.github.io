<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI性格测试 - 发现真实的自己</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/v4-shims.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#0ea5e9',
                        accent: '#06b6d4',
                        mbti: {
                            e: '#3b82f6',
                            i: '#6366f1',
                            s: '#10b981',
                            n: '#059669',
                            t: '#f59e0b',
                            f: '#d97706',
                            j: '#ef4444',
                            p: '#dc2626'
                        },
                        rating: {
                            1: '#ef4444',
                            2: '#f97316',
                            3: '#f59e0b',
                            4: '#8b5cf6',
                            5: '#3b82f6',
                            6: '#06b6d4',
                            7: '#10b981'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .gradient-bg {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }
            .glass-effect {
                backdrop-filter: blur(10px);
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            }
            .progress-bar {
                background: linear-gradient(90deg, #3b82f6, #06b6d4);
                transition: width 0.5s ease;
            }
            .rating-btn {
                transition: all 0.2s ease;
            }
            .rating-btn:hover {
                transform: scale(1.1);
            }
            .rating-btn.selected {
                transform: scale(1.2);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                border: 2px solid white;
            }
            .test-mode-card {
                transition: all 0.3s ease;
                cursor: pointer;
            }
            .test-mode-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            }
            .test-mode-card.selected {
                border: 3px solid #2563eb;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
            }
            .test-mode-card.selected h3,
            .test-mode-card.selected p {
                color: white;
            }
            .test-mode-card.selected .icon-bg {
                background: rgba(255, 255, 255, 0.2);
            }
            .personality-type-card {
                transition: all 0.3s ease;
            }
            .personality-type-card:hover {
                transform: translateY(-3px);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }
            .personality-type-card.selected {
                border: 2px solid #2563eb;
                background: rgba(37, 99, 235, 0.1);
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 顶部导航 -->
    <nav class="bg-white shadow-md fixed top-0 left-0 right-0 z-50 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center">
                        <i class="fa fa-bullseye text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">MBTI性格测试</h1>
                        <p class="text-xs text-gray-500">发现真实的自己</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="hidden md:block px-4 py-2 text-sm text-gray-600 hover:text-primary transition-colors" id="help-btn">
                        <i class="fa fa-question-circle mr-2"></i>帮助
                    </button>
                    <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors" id="theme-toggle">
                        <i class="fa fa-moon-o mr-2"></i>暗色模式
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 帮助模态框 -->
    <div id="help-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-gray-800">测试帮助</h3>
                    <button id="close-help-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div class="space-y-6">
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">什么是MBTI测试？</h4>
                        <p class="text-gray-600">MBTI（迈尔斯-布里格斯类型指标）是一种人格类型理论，基于卡尔·荣格的心理学理论发展而来。它通过四个维度来分析人格类型：</p>
                        <ul class="mt-3 space-y-2 text-gray-600">
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                                <span><strong>E/I</strong> - 外向/内向：能量来源</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                                <span><strong>S/N</strong> - 实感/直觉：认知方式</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                                <span><strong>T/F</strong> - 思考/情感：决策方式</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                                <span><strong>J/P</strong> - 判断/感知：生活态度</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">如何选择答案？</h4>
                        <p class="text-gray-600">每个问题都有7个认同等级，请根据你的真实情况选择：</p>
                        <div class="mt-3 grid grid-cols-7 gap-2">
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-1 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">1</div>
                                <span class="text-xs text-gray-600">完全不认同</span>
                            </div>
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-2 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">2</div>
                                <span class="text-xs text-gray-600">不太认同</span>
                            </div>
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-3 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">3</div>
                                <span class="text-xs text-gray-600">有点认同</span>
                            </div>
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-4 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">4</div>
                                <span class="text-xs text-gray-600">中立</span>
                            </div>
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-5 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">5</div>
                                <span class="text-xs text-gray-600">比较认同</span>
                            </div>
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-6 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">6</div>
                                <span class="text-xs text-gray-600">很认同</span>
                            </div>
                            <div class="text-center">
                                <div class="w-8 h-8 bg-rating-7 rounded-full flex items-center justify-center text-white text-xs mx-auto mb-1">7</div>
                                <span class="text-xs text-gray-600">完全认同</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">测试建议</h4>
                        <ul class="space-y-2 text-gray-600">
                            <li class="flex items-start">
                                <i class="fa fa-lightbulb-o text-yellow-500 mt-1 mr-3"></i>
                                <span>请根据你的真实感受选择，没有正确或错误的答案</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-lightbulb-o text-yellow-500 mt-1 mr-3"></i>
                                <span>选择最能代表你通常行为方式的选项</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-lightbulb-o text-yellow-500 mt-1 mr-3"></i>
                                <span>不要过度思考，相信你的第一反应</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-lightbulb-o text-yellow-500 mt-1 mr-3"></i>
                                <span>每个问题都很重要，请认真回答</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">测试结果说明</h4>
                        <p class="text-gray-600">测试结果将显示你的MBTI性格类型，包括：</p>
                        <ul class="mt-3 space-y-2 text-gray-600">
                            <li class="flex items-start">
                                <i class="fa fa-info-circle text-blue-500 mt-1 mr-3"></i>
                                <span>你的MBTI类型代码（如ENTJ）</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-info-circle text-blue-500 mt-1 mr-3"></i>
                                <span>性格特点和描述</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-info-circle text-blue-500 mt-1 mr-3"></i>
                                <span>适合的职业建议</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-info-circle text-blue-500 mt-1 mr-3"></i>
                                <span>详细的性格分析</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 主内容区 -->
    <main class="pt-24 pb-16">
        <!-- 欢迎页面 -->
        <section id="welcome-page" class="min-h-screen flex items-center justify-center px-4">
            <div class="max-w-4xl mx-auto text-center">
                <div class="mb-8">
                    <div class="w-24 h-24 bg-gradient-to-br from-primary to-accent rounded-full mx-auto mb-6 flex items-center justify-center">
                        <i class="fa fa-bullseye text-white text-4xl"></i>
                    </div>
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">MBTI性格测试</h1>
                    <p class="text-xl text-gray-600 mb-8">探索你的性格类型，了解真实的自己</p>
                </div>
                
                <div class="grid md:grid-cols-4 gap-6 mb-12">
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <span class="text-white font-bold text-lg">E/I</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">能量倾向</h3>
                        <p class="text-sm text-gray-600">外向或内向</p>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <div class="w-12 h-12 bg-mbti-s rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <span class="text-white font-bold text-lg">S/N</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">认知方式</h3>
                        <p class="text-sm text-gray-600">实感或直觉</p>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <div class="w-12 h-12 bg-mbti-t rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <span class="text-white font-bold text-lg">T/F</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">决策方式</h3>
                        <p class="text-sm text-gray-600">思考或情感</p>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <div class="w-12 h-12 bg-mbti-j rounded-lg flex items-center justify-center mb-4 mx-auto">
                            <span class="text-white font-bold text-lg">J/P</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">生活态度</h3>
                        <p class="text-sm text-gray-600">判断或感知</p>
                    </div>
                </div>

                <!-- 测试模式选择 -->
                <div class="mb-12">
                    <h3 class="text-xl font-semibold text-gray-800 mb-6">选择测试模式</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="test-mode-card bg-white rounded-xl shadow-lg p-8 border-2 border-transparent" id="traditional-test">
                            <div class="icon-bg w-16 h-16 bg-gray-100 rounded-full mx-auto mb-6 flex items-center justify-center">
                                <i class="fa fa-list text-primary text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">传统测试</h3>
                            <p class="text-gray-600 mb-4">60道题目，全面深入分析你的性格类型</p>
                            <div class="flex items-center justify-center space-x-2 text-sm text-gray-500">
                                <i class="fa fa-clock-o"></i>
                                <span>预计10-15分钟</span>
                            </div>
                        </div>
                        
                        <div class="test-mode-card bg-white rounded-xl shadow-lg p-8 border-2 border-transparent" id="quick-test">
                            <div class="icon-bg w-16 h-16 bg-gray-100 rounded-full mx-auto mb-6 flex items-center justify-center">
                                <i class="fa fa-bolt text-primary text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">快速测试</h3>
                            <p class="text-gray-600 mb-4">3个详细情景，每个情景4道题目，快速了解你的性格</p>
                            <div class="flex items-center justify-center space-x-2 text-sm text-gray-500">
                                <i class="fa fa-clock-o"></i>
                                <span>预计3-5分钟</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">测试说明</h3>
                    <ul class="text-left text-gray-600 space-y-2">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span>每个问题都有7个认同等级，请根据真实情况选择</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span>每个问题都提供具体情景，帮助你更好地思考</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-500 mt-1 mr-3"></i>
                            <span>没有正确或错误的答案，只需诚实回答</span>
                        </li>
                    </ul>
                </div>
                
                <button id="start-test" class="px-8 py-4 bg-primary text-white rounded-lg text-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    <i class="fa fa-play mr-2"></i>开始测试
                </button>
            </div>
        </section>

        <!-- 测试页面 -->
        <section id="test-page" class="hidden min-h-screen px-4">
            <div class="max-w-4xl mx-auto">
                <!-- 进度条 -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-2">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium text-gray-600">进度</span>
                            <span class="text-sm text-primary font-bold" id="progress-text">1/60</span>
                        </div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="progress-bar h-2.5 rounded-full" style="width: 1.67%"></div>
                    </div>
                </div>

                <!-- 测试卡片 -->
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <!-- 介绍卡片 -->
                    <div id="intro-card" class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-full mx-auto mb-6 flex items-center justify-center">
                            <i class="fa fa-info text-white text-2xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">测试介绍</h2>
                        <p class="text-gray-600 mb-6">MBTI测试基于卡尔·荣格的心理学理论，通过四个维度来分析你的性格类型。每个问题都有7个认同等级，请根据真实情况选择最符合你的选项。</p>
                        
                        <div class="bg-gray-50 rounded-lg p-6 mb-8">
                            <h4 class="font-semibold text-gray-800 mb-4">7级认同量表说明</h4>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-rating-1 font-medium">完全不认同</span>
                                <span class="text-rating-4 font-medium">中立</span>
                                <span class="text-rating-7 font-medium">完全认同</span>
                            </div>
                            <div class="flex justify-between mt-2">
                                <div class="w-8 h-8 bg-rating-1 rounded-full flex items-center justify-center text-white text-xs">1</div>
                                <div class="w-8 h-8 bg-rating-2 rounded-full flex items-center justify-center text-white text-xs">2</div>
                                <div class="w-8 h-8 bg-rating-3 rounded-full flex items-center justify-center text-white text-xs">3</div>
                                <div class="w-8 h-8 bg-rating-4 rounded-full flex items-center justify-center text-white text-xs">4</div>
                                <div class="w-8 h-8 bg-rating-5 rounded-full flex items-center justify-center text-white text-xs">5</div>
                                <div class="w-8 h-8 bg-rating-6 rounded-full flex items-center justify-center text-white text-xs">6</div>
                                <div class="w-8 h-8 bg-rating-7 rounded-full flex items-center justify-center text-white text-xs">7</div>
                            </div>
                        </div>
                        
                        <button id="start-first-question" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                            <i class="fa fa-arrow-right mr-2"></i>开始答题
                        </button>
                    </div>

                    <!-- 题目卡片 -->
                    <div id="question-card" class="hidden">
                        <div class="mb-6">
                            <div class="flex items-center space-x-3 mb-4">
                                <div id="dimension-icon" class="w-8 h-8 bg-mbti-e rounded-lg flex items-center justify-center">
                                    <span class="text-white font-bold text-sm">E/I</span>
                                </div>
                                <div>
                                    <h3 id="dimension-name" class="text-sm font-medium text-gray-600">能量倾向</h3>
                                    <h4 id="dimension-description" class="text-sm text-gray-500">外向或内向</h4>
                                </div>
                            </div>
                            
                            <!-- 情景描述 -->
                            <div class="bg-blue-50 rounded-lg p-4 mb-6">
                                <div class="flex items-start space-x-3">
                                    <i class="fa fa-lightbulb-o text-blue-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-medium text-blue-700 mb-2">情景思考</h4>
                                        <p id="scenario-text" class="text-sm text-blue-600">想象一下你在一个热闹的派对上，周围有很多陌生人...</p>
                                    </div>
                                </div>
                            </div>
                            
                            <h2 id="question-text" class="text-xl font-semibold text-gray-800 mb-6">我在社交场合中感到兴奋和充满活力</h2>
                        </div>
                        
                        <!-- 7级评分量表 -->
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-sm text-gray-600">完全不认同</span>
                                <span class="text-sm text-gray-600">完全认同</span>
                            </div>
                            <div class="flex justify-between space-x-2">
                                <button class="rating-btn w-10 h-10 bg-rating-1 rounded-full flex items-center justify-center text-white font-medium" data-value="1">1</button>
                                <button class="rating-btn w-10 h-10 bg-rating-2 rounded-full flex items-center justify-center text-white font-medium" data-value="2">2</button>
                                <button class="rating-btn w-10 h-10 bg-rating-3 rounded-full flex items-center justify-center text-white font-medium" data-value="3">3</button>
                                <button class="rating-btn w-10 h-10 bg-rating-4 rounded-full flex items-center justify-center text-white font-medium" data-value="4">4</button>
                                <button class="rating-btn w-10 h-10 bg-rating-5 rounded-full flex items-center justify-center text-white font-medium" data-value="5">5</button>
                                <button class="rating-btn w-10 h-10 bg-rating-6 rounded-full flex items-center justify-center text-white font-medium" data-value="6">6</button>
                                <button class="rating-btn w-10 h-10 bg-rating-7 rounded-full flex items-center justify-center text-white font-medium" data-value="7">7</button>
                            </div>
                        </div>
                        
                        <!-- 提示信息 -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start space-x-3">
                                <i class="fa fa-info-circle text-gray-500 mt-1"></i>
                                <p class="text-sm text-gray-600">请根据你的真实感受选择，没有正确或错误的答案。选择最能代表你通常行为方式的选项。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 快速测试情景卡片 -->
                    <div id="quick-scenario-card" class="hidden">
                        <div class="mb-6">
                            <div class="flex items-center space-x-3 mb-4">
                                <div class="w-8 h-8 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center">
                                    <i class="fa fa-bullseye text-white text-sm"></i>
                                </div>
                                <div>
                                    <h3 id="quick-scenario-title" class="text-sm font-medium text-gray-600">情景测试</h3>
                                    <h4 id="quick-scenario-subtitle" class="text-sm text-gray-500">详细情景描述</h4>
                                </div>
                            </div>
                            
                            <!-- 详细情景描述 -->
                            <div class="bg-gradient-to-br from-primary to-accent rounded-lg p-6 mb-6 text-white">
                                <div class="flex items-start space-x-3">
                                    <i class="fa fa-bullseye mt-1"></i>
                                    <div>
                                        <h4 class="font-medium text-white mb-2">情景描述</h4>
                                        <p id="quick-scenario-text" class="text-sm opacity-90">你是一家公司的部门经理，最近公司面临一个重要的战略决策。这个决策不仅关系到公司的未来发展，还会影响到你部门的组织结构和人员安排。你需要在有限的时间内收集信息、分析数据，并做出最终决定。同时，你还要考虑团队成员的感受和需求，以及如何与其他部门协调合作...</p>
                                    </div>
                                </div>
                            </div>
                            
                            <h2 id="quick-question-text" class="text-xl font-semibold text-gray-800 mb-6">在这种情况下，你更倾向于：</h2>
                        </div>
                        
                        <!-- 7级评分量表 -->
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-sm text-gray-600">完全不认同</span>
                                <span class="text-sm text-gray-600">完全认同</span>
                            </div>
                            <div class="flex justify-between space-x-2">
                                <button class="rating-btn w-10 h-10 bg-rating-1 rounded-full flex items-center justify-center text-white font-medium" data-value="1">1</button>
                                <button class="rating-btn w-10 h-10 bg-rating-2 rounded-full flex items-center justify-center text-white font-medium" data-value="2">2</button>
                                <button class="rating-btn w-10 h-10 bg-rating-3 rounded-full flex items-center justify-center text-white font-medium" data-value="3">3</button>
                                <button class="rating-btn w-10 h-10 bg-rating-4 rounded-full flex items-center justify-center text-white font-medium" data-value="4">4</button>
                                <button class="rating-btn w-10 h-10 bg-rating-5 rounded-full flex items-center justify-center text-white font-medium" data-value="5">5</button>
                                <button class="rating-btn w-10 h-10 bg-rating-6 rounded-full flex items-center justify-center text-white font-medium" data-value="6">6</button>
                                <button class="rating-btn w-10 h-10 bg-rating-7 rounded-full flex items-center justify-center text-white font-medium" data-value="7">7</button>
                            </div>
                        </div>
                        
                        <!-- 提示信息 -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start space-x-3">
                                <i class="fa fa-info-circle text-gray-500 mt-1"></i>
                                <p class="text-sm text-gray-600">请根据情景中的描述，选择最符合你真实反应的选项。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 导航按钮 -->
                <div class="flex justify-between">
                    <button id="prev-question" class="px-6 py-3 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors hidden">
                        <i class="fa fa-arrow-left mr-2"></i>上一题
                    </button>
                    <button id="next-question" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors hidden">
                        下一题<i class="fa fa-arrow-right ml-2"></i>
                    </button>
                    <button id="submit-test" class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors hidden">
                        <i class="fa fa-check mr-2"></i>提交测试
                    </button>
                </div>
            </div>
        </section>

        <!-- 结果页面 -->
        <section id="result-page" class="hidden min-h-screen px-4">
            <div class="max-w-4xl mx-auto">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-4">你的MBTI性格类型</h1>
                    <p class="text-gray-600">基于你的回答，我们分析出了你的性格类型</p>
                </div>

                <!-- 性格类型卡片 -->
                <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                    <div class="text-center mb-8">
                        <div id="personality-icon" class="w-32 h-32 bg-gradient-to-br from-primary to-accent rounded-full mx-auto mb-6 flex items-center justify-center">
                            <span id="personality-code" class="text-white font-bold text-6xl">ISTJ</span>
                        </div>
                        <h2 id="personality-name" class="text-2xl font-bold text-gray-800 mb-2">物流师型人格</h2>
                        <p id="personality-description" class="text-gray-600 mb-4">务实可靠，重视规则和细节</p>
                        <div class="flex justify-center space-x-4">
                            <span class="px-3 py-1 bg-mbti-i text-white rounded-full text-sm font-medium">内向</span>
                            <span class="px-3 py-1 bg-mbti-s text-white rounded-full text-sm font-medium">实感</span>
                            <span class="px-3 py-1 bg-mbti-t text-white rounded-full text-sm font-medium">思考</span>
                            <span class="px-3 py-1 bg-mbti-j text-white rounded-full text-sm font-medium">判断</span>
                        </div>
                    </div>

                    <!-- 性格分析 -->
                    <div class="grid md:grid-cols-2 gap-8 mb-8">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">性格特点</h3>
                            <ul id="personality-traits" class="space-y-2 text-gray-600">
                                <!-- 性格特点将在这里显示 -->
                            </ul>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">适合职业</h3>
                            <ul id="suitable-jobs" class="space-y-2 text-gray-600">
                                <!-- 适合职业将在这里显示 -->
                            </ul>
                        </div>
                    </div>

                    <!-- 详细分析 -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-3">详细分析</h3>
                            <p id="detailed-analysis" class="text-gray-600 leading-relaxed">
                                <!-- 详细分析将在这里显示 -->
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800 mb-3">与其他类型的关系</h3>
                            <p id="relationship-analysis" class="text-gray-600 leading-relaxed">
                                <!-- 关系分析将在这里显示 -->
                            </p>
                        </div>
                    </div>
                </div>

                <!-- 行动按钮 -->
                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <button id="share-result" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                        <i class="fa fa-share mr-2"></i>分享结果
                    </button>
                    <button id="retake-test" class="px-6 py-3 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fa fa-refresh mr-2"></i>重新测试
                    </button>
                    <button id="view-all-types" class="px-6 py-3 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fa fa-list mr-2"></i>查看所有类型
                    </button>
                </div>
            </div>
        </section>

        <!-- 所有性格类型模态框 -->
        <div id="all-types-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto">
                <div class="p-6 border-b">
                    <div class="flex justify-between items-center">
                        <h3 class="text-2xl font-bold text-gray-800">所有MBTI性格类型</h3>
                        <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                            <i class="fa fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-6">
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- ISTJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ISTJ">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ISTJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">物流师型</h4>
                            <p class="text-sm text-gray-600">务实可靠</p>
                        </div>
                        
                        <!-- ISFJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ISFJ">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ISFJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">守护者型</h4>
                            <p class="text-sm text-gray-600">温暖体贴</p>
                        </div>
                        
                        <!-- INFJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="INFJ">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">INFJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">提倡者型</h4>
                            <p class="text-sm text-gray-600">富有洞察力</p>
                        </div>
                        
                        <!-- INTJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="INTJ">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">INTJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">建筑师型</h4>
                            <p class="text-sm text-gray-600">独立理性</p>
                        </div>
                        
                        <!-- ISTP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ISTP">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ISTP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">鉴赏家型</h4>
                            <p class="text-sm text-gray-600">灵活冷静</p>
                        </div>
                        
                        <!-- ISFP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ISFP">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ISFP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">探险家型</h4>
                            <p class="text-sm text-gray-600">敏感艺术</p>
                        </div>
                        
                        <!-- INFP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="INFP">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">INFP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">调停者型</h4>
                            <p class="text-sm text-gray-600">理想主义</p>
                        </div>
                        
                        <!-- INTP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="INTP">
                            <div class="w-12 h-12 bg-mbti-i rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">INTP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">逻辑学家型</h4>
                            <p class="text-sm text-gray-600">理性好奇</p>
                        </div>
                        
                        <!-- ESTP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ESTP">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ESTP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">企业家型</h4>
                            <p class="text-sm text-gray-600">务实果断</p>
                        </div>
                        
                        <!-- ESFP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ESFP">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ESFP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">表演者型</h4>
                            <p class="text-sm text-gray-600">格外向热情</p>
                        </div>
                        
                        <!-- ENFP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ENFP">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ENFP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">竞选者型</h4>
                            <p class="text-sm text-gray-600">创意热情</p>
                        </div>
                        
                        <!-- ENTP -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ENTP">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ENTP</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">辩论家型</h4>
                            <p class="text-sm text-gray-600">聪明好辩</p>
                        </div>
                        
                        <!-- ESTJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ESTJ">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ESTJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">执行官型</h4>
                            <p class="text-sm text-gray-600">果断严谨</p>
                        </div>
                        
                        <!-- ESFJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ESFJ">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ESFJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">领事型</h4>
                            <p class="text-sm text-gray-600">友好助人</p>
                        </div>
                        
                        <!-- ENFJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ENFJ">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ENFJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">主人公型</h4>
                            <p class="text-sm text-gray-600">热情有号召力</p>
                        </div>
                        
                        <!-- ENTJ -->
                        <div class="personality-type-card bg-white border border-gray-200 rounded-lg p-4 hover:border-primary transition-colors cursor-pointer" data-type="ENTJ">
                            <div class="w-12 h-12 bg-mbti-e rounded-lg flex items-center justify-center mb-3">
                                <span class="text-white font-bold text-lg">ENTJ</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">指挥官型</h4>
                            <p class="text-sm text-gray-600">自信决断</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">关于MBTI测试</h3>
                    <p class="text-gray-400 text-sm">MBTI测试基于卡尔·荣格的心理学理论，帮助你了解自己的性格类型和特点。</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">相关链接</h3>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="https://www.myersbriggs.org/" class="hover:text-white transition-colors" target="_blank" rel="noopener noreferrer">MBTI官方网站</a></li>
                        <li><a href="https://www.16personalities.com/" class="hover:text-white transition-colors" target="_blank" rel="noopener noreferrer">16personalities</a></li>
                        <li><a href="https://zh.wikipedia.org/wiki/迈尔斯-布里格斯性格分类法" class="hover:text-white transition-colors" target="_blank" rel="noopener noreferrer">MBTI理论介绍</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">联系我们</h3>
                    <p class="text-gray-400 text-sm">如有问题或建议，请联系我们的客服团队。</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400 text-sm">
                <p>&copy; 2025 MBTI性格测试. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // 测试题目数据 - 包含情景描述和7级评分
        const traditionalQuestions = [
            // E/I 外向/内向 (15题)
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '想象一下你在一个热闹的派对上，周围有很多陌生人，音乐声很大，大家都在积极交流。',
                question: '我在社交场合中感到兴奋和充满活力',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '周末到了，你有一整天的空闲时间可以自由支配。',
                question: '我更喜欢参加聚会或社交活动，而不是独自度过',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你需要完成一个重要的工作任务，可以选择独自完成或与团队合作。',
                question: '我在团队合作中能获得更多的能量和动力',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '在一个重要的会议上，大家正在讨论一个关键问题。',
                question: '我倾向于积极发言并表达自己的观点',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你刚刚参加完一个持续了3小时的大型社交活动。',
                question: '社交活动后我感到精力充沛，而不是疲惫不堪',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你遇到了一个有趣的想法或发现，想要分享给别人。',
                question: '我喜欢边说边思考，通过表达来理清思路',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你搬到了一个新城市，需要建立新的社交圈子。',
                question: '我很容易结识新朋友并建立关系',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你有机会选择参加一个大型聚会或与少数亲密朋友小聚。',
                question: '我更喜欢大型聚会的热闹氛围',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你在一个陌生的环境中，周围都是不认识的人。',
                question: '我会主动与陌生人交流，而不是等待别人先开口',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你感到压力很大，需要放松和恢复能量。',
                question: '我通过与朋友交流来缓解压力',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你需要解决一个复杂的问题，可以选择独自思考或与他人讨论。',
                question: '我通过与他人讨论来获得更好的解决方案',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你被邀请在一个大型会议上做演讲。',
                question: '在众人面前演讲会让我感到兴奋',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你需要与他人沟通重要信息，可以选择面对面交流或书面沟通。',
                question: '我更喜欢面对面交流而不是书面沟通',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你在一个团队项目中，大家正在讨论不同的观点。',
                question: '我会积极参与讨论，表达自己的想法',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },
            {
                dimension: 'E/I',
                dimensionName: '能量倾向',
                dimensionDesc: '外向或内向',
                scenario: '你有机会认识一位你非常敬佩的名人。',
                question: '我会主动上前与他们交流',
                weights: {
                    1: { I: 3 },
                    2: { I: 2 },
                    3: { I: 1 },
                    4: { E: 0, I: 0 },
                    5: { E: 1 },
                    6: { E: 2 },
                    7: { E: 3 }
                }
            },

            // S/N 实感/直觉 (15题)
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你正在学习一项新技能，可以选择通过实际操作或理论学习。',
                question: '我通过实际操作和经验来学习效果更好',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在阅读一篇文章，内容包含很多具体细节和数据。',
                question: '我更关注具体的事实和数据',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你需要做出一个重要决策，有两种信息来源：已验证的事实或直觉感受。',
                question: '我更信任经过验证的事实和数据',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在解决一个问题，有两种方法：关注当前情况或思考未来可能性。',
                question: '我更关注当前的实际情况和已知信息',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在描述一个事物，可以选择使用具体数据或形象比喻。',
                question: '我更喜欢使用具体的数据和事实',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在回忆过去的经历，可以选择记住具体细节或整体感受。',
                question: '我能清楚地记住具体的细节和事实',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在旅行中，可以选择参观著名景点或探索当地文化。',
                question: '我更关注景点的实际体验和具体细节',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在完成任务时，可以选择按部就班或尝试新方法。',
                question: '我更喜欢按部就班，注重实际效果',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在阅读一本书，可以选择关注具体内容或深层含义。',
                question: '我更关注文章的具体内容和事实',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在与他人沟通时，可以选择使用具体例子或抽象概念。',
                question: '我更喜欢使用具体的例子和事实',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你遇到了一个新想法，可以选择验证其真实性或探索其可能性。',
                question: '我会先验证这个想法的真实性和实用性',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在思考未来，可以选择基于当前趋势或想象可能性。',
                question: '我更倾向于基于当前趋势做合理预测',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在工作中，可以选择处理具体事务或思考战略问题。',
                question: '我更擅长处理具体事务和细节',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在欣赏艺术作品，可以选择关注技巧细节或情感表达。',
                question: '我更关注作品的技巧和细节完美',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },
            {
                dimension: 'S/N',
                dimensionName: '认知方式',
                dimensionDesc: '实感或直觉',
                scenario: '你在学习新知识，可以选择通过实践或理论。',
                question: '我通过实践和经验学习效果更好',
                weights: {
                    1: { N: 3 },
                    2: { N: 2 },
                    3: { N: 1 },
                    4: { S: 0, N: 0 },
                    5: { S: 1 },
                    6: { S: 2 },
                    7: { S: 3 }
                }
            },

            // T/F 思考/情感 (15题)
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你需要做出一个重要决策，有两种考虑因素：逻辑分析或人际关系。',
                question: '我更依赖逻辑分析和客观事实做决定',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在评价一个人的行为，可以选择关注对错或感受。',
                question: '我更看重公平和正义的原则',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在与他人争论时，可以选择关注观点对错或关系和谐。',
                question: '我更关注观点的逻辑性和正确性',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在选择领导风格时，可以选择指导性或民主参与。',
                question: '我更喜欢指导性强、注重效率的领导风格',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '朋友遇到问题向你求助，可以选择提供建议或情感支持。',
                question: '我更倾向于提供实际的解决方案和建议',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你收到了批评意见，可以选择视为改进机会或感到受伤。',
                question: '我将批评视为改进的机会，而不是个人攻击',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在团队中，可以选择关注任务完成或成员感受。',
                question: '我更关注任务的完成和效率',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在处理问题时，可以选择对事不对人或以人为本。',
                question: '我更倾向于对事不对人',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在做重要决定时，可以选择理性分析或考虑他人影响。',
                question: '我会理性分析各种可能性和后果',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在对待规则时，可以选择严格遵守或灵活应用。',
                question: '我认为规则应该被严格遵守',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在评价他人时，可以选择关注能力或品格。',
                question: '我更看重诚实和公正的品质',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在处理冲突时，可以选择寻找解决方案或情感理解。',
                question: '我更倾向于寻找客观的解决方案',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在评价他人时，可以选择关注能力成就或情感品质。',
                question: '我更关注他人的能力和成就',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在工作中，可以选择关注目标实现或团队和谐。',
                question: '我更关注目标的实现和成果',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },
            {
                dimension: 'T/F',
                dimensionName: '决策方式',
                dimensionDesc: '思考或情感',
                scenario: '你在理解问题时，可以选择理性思考或感性理解。',
                question: '我更倾向于理性思考和逻辑分析',
                weights: {
                    1: { F: 3 },
                    2: { F: 2 },
                    3: { F: 1 },
                    4: { T: 0, F: 0 },
                    5: { T: 1 },
                    6: { T: 2 },
                    7: { T: 3 }
                }
            },

            // J/P 判断/感知 (15题)
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在选择生活方式时，可以选择有计划或灵活自由。',
                question: '我更喜欢有计划、有秩序的生活方式',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在安排日程时，可以选择提前规划或灵活调整。',
                question: '我倾向于提前规划并按计划执行',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在完成任务时，可以选择追求结果或享受过程。',
                question: '我更倾向于完成任务并追求明确结果',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在组织活动时，可以选择注重细节或创新参与。',
                question: '我更注重细节和流程的完善',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在选择休闲活动时，可以选择有目的或即兴随意。',
                question: '我更喜欢预先安排的、有目的的活动',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你面对截止日期时，可以选择提前完成或最后期限前完成。',
                question: '我通常会提前完成任务以避免压力',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在整理环境时，可以选择整洁有序或舒适自然。',
                question: '我喜欢环境整洁有序',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在做决定时，可以选择尽快决定或保持开放。',
                question: '我倾向于尽快做出决定',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在看待未来时，可以选择追求确定或保持灵活。',
                question: '我更看重确定性和稳定性',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在工作中，可以选择制定计划或灵活调整。',
                question: '我喜欢制定详细的计划',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你面对变化时，可以选择需要适应或乐于接受。',
                question: '我需要时间来适应变化',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在团队项目中，可以选择明确分工或灵活协作。',
                question: '我更关注明确的分工和时间表',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在处理事务时，可以选择有始有终或探索可能。',
                question: '我喜欢有始有终地完成任务',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在日常生活中，可以选择规律秩序或自由灵活。',
                question: '我更注重生活的规律和秩序',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            },
            {
                dimension: 'J/P',
                dimensionName: '生活态度',
                dimensionDesc: '判断或感知',
                scenario: '你在规划未来时，可以选择制定计划或保持开放。',
                question: '我喜欢制定详细的未来规划',
                weights: {
                    1: { P: 3 },
                    2: { P: 2 },
                    3: { P: 1 },
                    4: { J: 0, P: 0 },
                    5: { J: 1 },
                    6: { J: 2 },
                    7: { J: 3 }
                }
            }
        ];

        // 快速测试题目数据 - 3个情景，每个情景4道题目，更加情景化
        const quickQuestions = [
            // 情景1: 工作决策情景
            {
                scenario: '你是一家公司的部门经理，最近公司面临一个重要的战略决策。这个决策不仅关系到公司的未来发展，还会影响到你部门的组织结构和人员安排。你需要在有限的时间内收集信息、分析数据，并做出最终决定。同时，你还要考虑团队成员的感受和需求，以及如何与其他部门协调合作。这个决策将对公司的市场地位、盈利能力和员工满意度产生深远影响。',
                questions: [
                    {
                        question: '在收集信息时，你更倾向于：详细研究市场报告、财务数据和客户反馈，确保掌握所有具体事实和数据后再做决定',
                        dimension: 'S/N',
                        weights: {
                            1: { N: 3 },
                            2: { N: 2 },
                            3: { N: 1 },
                            4: { S: 0, N: 0 },
                            5: { S: 1 },
                            6: { S: 2 },
                            7: { S: 3 }
                        }
                    },
                    {
                        question: '在做决定时，你更看重：基于客观数据和逻辑分析，选择对公司长期发展最有利的方案，即使这可能会影响部分员工的利益',
                        dimension: 'T/F',
                        weights: {
                            1: { F: 3 },
                            2: { F: 2 },
                            3: { F: 1 },
                            4: { T: 0, F: 0 },
                            5: { T: 1 },
                            6: { T: 2 },
                            7: { T: 3 }
                        }
                    },
                    {
                        question: '在与团队沟通时，你更倾向于：先独自深入思考各种可能性和后果，形成完整的思路后再与团队分享你的结论和理由',
                        dimension: 'E/I',
                        weights: {
                            1: { E: 3 },
                            2: { E: 2 },
                            3: { E: 1 },
                            4: { E: 0, I: 0 },
                            5: { I: 1 },
                            6: { I: 2 },
                            7: { I: 3 }
                        }
                    },
                    {
                        question: '在执行计划时，你更偏好：制定详细的实施计划和时间表，明确每个步骤的责任人和完成时间，确保按计划执行',
                        dimension: 'J/P',
                        weights: {
                            1: { J: 3 },
                            2: { J: 2 },
                            3: { J: 1 },
                            4: { J: 0, P: 0 },
                            5: { P: 1 },
                            6: { P: 2 },
                            7: { P: 3 }
                        }
                    }
                ]
            },
            // 情景2: 社交活动情景
            {
                scenario: '你被邀请参加一个重要的行业会议，这是一个拓展人脉、学习新知识的好机会。会议期间有各种形式的活动，包括正式的演讲、小组讨论、社交酒会等。你需要在三天的会议中安排自己的时间，既要学习专业知识，又要建立有价值的人际关系。同时，你还要考虑如何在保持自己舒适的同时，充分利用这个机会。',
                questions: [
                    {
                        question: '在会议中，你更享受：在休息时间独自思考和整理学到的知识，或者与一两位志同道合的人进行深入交流',
                        dimension: 'E/I',
                        weights: {
                            1: { E: 3 },
                            2: { E: 2 },
                            3: { E: 1 },
                            4: { E: 0, I: 0 },
                            5: { I: 1 },
                            6: { I: 2 },
                            7: { I: 3 }
                        }
                    },
                    {
                        question: '在学习新知识时，你更关注：演讲者分享的具体案例、实用技巧和可操作的方法，而不是抽象的理论框架',
                        dimension: 'S/N',
                        weights: {
                            1: { N: 3 },
                            2: { N: 2 },
                            3: { N: 1 },
                            4: { S: 0, N: 0 },
                            5: { S: 1 },
                            6: { S: 2 },
                            7: { S: 3 }
                        }
                    },
                    {
                        question: '在与陌生人交流时，你更倾向于：关注对方的专业背景和工作经验，分析他们的观点是否有逻辑和实用价值',
                        dimension: 'T/F',
                        weights: {
                            1: { T: 3 },
                            2: { T: 2 },
                            3: { T: 1 },
                            4: { T: 0, F: 0 },
                            5: { F: 1 },
                            6: { F: 2 },
                            7: { F: 3 }
                        }
                    },
                    {
                        question: '在安排会议时间时，你更偏好：提前规划好每一天的行程，包括要参加的演讲、要见的人和要完成的任务',
                        dimension: 'J/P',
                        weights: {
                            1: { P: 3 },
                            2: { P: 2 },
                            3: { P: 1 },
                            4: { J: 0, P: 0 },
                            5: { J: 1 },
                            6: { J: 2 },
                            7: { J: 3 }
                        }
                    }
                ]
            },
            // 情景3: 个人成长情景
            {
                scenario: '你决定在业余时间学习一项新技能，这将帮助你在职业发展或个人兴趣方面取得进步。你需要选择学习的内容、方式和时间安排。同时，你还要考虑如何平衡学习与工作、家庭的关系，以及如何保持学习的动力和持续性。这个学习过程可能会持续几个月甚至更长时间。',
                questions: [
                    {
                        question: '在选择学习内容时，你更看重：这项技能的实际应用价值和对当前工作的帮助，而不是它的理论深度或未来潜力',
                        dimension: 'S/N',
                        weights: {
                            1: { N: 3 },
                            2: { N: 2 },
                            3: { N: 1 },
                            4: { S: 0, N: 0 },
                            5: { S: 1 },
                            6: { S: 2 },
                            7: { S: 3 }
                        }
                    },
                    {
                        question: '在学习过程中，你更倾向于：独自研究教材和视频教程，通过实践和试错来掌握技能，而不是参加培训班或学习小组',
                        dimension: 'E/I',
                        weights: {
                            1: { E: 3 },
                            2: { E: 2 },
                            3: { E: 1 },
                            4: { E: 0, I: 0 },
                            5: { I: 1 },
                            6: { I: 2 },
                            7: { I: 3 }
                        }
                    },
                    {
                        question: '在遇到困难时，你更倾向于：分析问题的原因，查找相关资料，尝试不同的解决方案，直到问题得到解决',
                        dimension: 'T/F',
                        weights: {
                            1: { F: 3 },
                            2: { F: 2 },
                            3: { F: 1 },
                            4: { T: 0, F: 0 },
                            5: { T: 1 },
                            6: { T: 2 },
                            7: { T: 3 }
                        }
                    },
                    {
                        question: '在安排学习计划时，你更偏好：制定详细的学习计划和目标，包括每周的学习时间、要完成的任务和要达到的里程碑',
                        dimension: 'J/P',
                        weights: {
                            1: { P: 3 },
                            2: { P: 2 },
                            3: { P: 1 },
                            4: { J: 0, P: 0 },
                            5: { J: 1 },
                            6: { J: 2 },
                            7: { J: 3 }
                        }
                    }
                ]
            }
        ];

        // 性格类型数据
        const personalityTypes = {
            ISTJ: {
                name: '物流师型人格',
                description: '务实可靠，重视规则和细节',
                traits: [
                    '• 严肃、安静、藉由集中心志与全力投入获致成功',
                    '• 行事务实、有序、实际、逻辑、真实及可信赖',
                    '• 十分留意且乐于任何事（工作、居家、生活均有良好组织及有序）',
                    '• 负责任，照设定成效来作出决策且不畏阻挠与闲言会坚定为之',
                    '• 重视传统与忠诚'
                ],
                jobs: [
                    '• 会计、审计师',
                    '• 工程师、技术人员',
                    '• 警察、军人',
                    '• 管理人员、行政人员',
                    '• 医生、护士'
                ],
                detailed: 'ISTJ型的人是严肃的、有责任心的和通情达理的社会坚定分子。他们值得信赖，他们重视承诺，对他们来说，言语就是庄严的宣誓。ISTJ型的人工作缜密，讲求实际，很有头脑也很现实。他们具有很强的集中力、条理性和准确性，以及坚持不懈的精神。',
                relationship: 'ISTJ型的人在人际关系中表现出忠诚和可靠的特点。他们重视传统和稳定，在家庭和工作中都表现出高度的责任感。他们可能不善于表达情感，但会通过实际行动来表达关心和支持。'
            },
            ISFJ: {
                name: '守护者型人格',
                description: '温暖体贴，擅长照顾他人',
                traits: [
                    '• 安静、和善、负责任且有良心',
                    '• 行事尽责投入，安定性高',
                    '• 愿投入、吃苦及力求精确',
                    '• 忠诚、考虑周到、知性且会关切他人感受',
                    '• 致力于创构有序及和谐的工作与家庭环境'
                ],
                jobs: [
                    '• 护士、医生',
                    '• 教师、辅导员',
                    '• 社工、志愿者',
                    '• 行政助理、秘书',
                    '• 图书管理员'
                ],
                detailed: 'ISFJ型的人忠诚、有奉献精神和同情心，理解别人的感受。他们意志清醒而有责任心，乐于为人所需。ISFJ型的人十分务实，他们喜欢平和谦逊的人。他们喜欢利用大量的事实情况，对于细节则有很强的记忆力。',
                relationship: 'ISFJ型的人在人际关系中表现出温暖和关怀的特点。他们善于照顾他人，重视家庭和传统价值观。他们可能不善于表达自己的需求，但会全心全意地支持和帮助他人。'
            },
            INFJ: {
                name: '提倡者型人格',
                description: '富有同理心和洞察力，追求意义感',
                traits: [
                    '• 因为坚忍、创意及必须达成的意图而能成功',
                    '• 会在工作中投注最大的努力',
                    '• 默默强力的、诚挚的及用心的关切他人',
                    '• 因坚守原则而受敬重',
                    '• 提出造福大众利益的明确远景而为人所尊敬与追随'
                ],
                jobs: [
                    '• 心理咨询师、治疗师',
                    '• 作家、诗人',
                    '• 教师、教授',
                    '• 社会活动家、志愿者',
                    '• 设计师、艺术家'
                ],
                detailed: 'INFJ型的人生活在思想的世界里。他们是独立的、有独创性的思想家，具有强烈的感情、坚定的原则和正直的人性。即使面对怀疑，INFJ型的人仍相信自己的看法与决定。他们对自己的评价高于其他的一切，包括流行观点和存在的权威，这种内在的观念激发着他们的积极性。',
                relationship: 'INFJ型的人在人际关系中表现出深度和意义的追求。他们善于理解他人的内心世界，重视精神层面的连接。他们可能显得神秘和内敛，但对于真正了解他们的人来说，他们是忠诚和支持的朋友。'
            },
            INTJ: {
                name: '建筑师型人格',
                description: '独立理性，擅长战略规划',
                traits: [
                    '• 具有创造性的思维并大力推动他们自己的主意和目标',
                    '• 目光远大、见解深刻',
                    '• 天生的战略思想家，有独特的思想、伟大的远见和梦想',
                    '• 天生精于理论，对于复杂而综合的概念运转灵活',
                    '• 是优秀的策略家和富有远见的规划者'
                ],
                jobs: [
                    '• 科学家、研究员',
                    '• 工程师、设计师',
                    '• 企业家、管理者',
                    '• 律师、法官',
                    '• 教授、学者'
                ],
                detailed: 'INTJ型的人是完美主义者。他们强烈地要求个人自由和能力，同时在他们独创的思想中，不可动摇的信仰促使他们达到目标。INTJ型的人思维严谨、有逻辑性、足智多谋，他们能够看到新计划实行后的结果。他们对自己和别人都很苛求，往往几乎同样强硬地逼迫别人和自己。',
                relationship: 'INTJ型的人在人际关系中表现出独立和理性的特点。他们重视智力上的连接，喜欢与有思想的人交流。他们可能显得冷漠和距离感，但对于真正了解他们的人来说，他们是忠诚和支持的伴侣。'
            },
            ISTP: {
                name: '鉴赏家型人格',
                description: '灵活冷静，擅长解决实际问题',
                traits: [
                    '• 冷静旁观者，安静、预留余地、弹性及会以无偏见的好奇心与未预期原始的幽默观察与分析',
                    '• 有兴趣于探索原因及效果，技术事件是为何及如何运作且使用逻辑的原理组构事实',
                    '• 擅长于掌握问题核心及找出解决方式',
                    '• 分析成事的缘由且能实时由大量资料中找出实际问题的核心'
                ],
                jobs: [
                    '• 技术人员、工程师',
                    '• 警察、侦探',
                    '• 运动员、教练',
                    '• 工匠、技师',
                    '• 军人、消防员'
                ],
                detailed: 'ISTP型的人坦率、诚实、讲求实效，他们喜欢行动而非漫谈。他们很谦逊，对于完成工作的方法有很好的理解力。ISTP型的人擅长分析，所以他们对客观含蓄的原则很有兴趣。他们对于技巧性的事物有天生的理解力，通常精于使用工具和进行手工劳动。',
                relationship: 'ISTP型的人在人际关系中表现出冷静和实际的特点。他们喜欢通过行动来表达关心，而不是言语。他们可能显得独立和内敛，但对于真正了解他们的人来说，他们是可靠和支持的朋友。'
            },
            ISFP: {
                name: '探险家型人格',
                description: '敏感艺术导向，注重感官体验',
                traits: [
                    '• 羞怯的、安宁和善地、敏感的、亲切的、且行事谦虚',
                    '• 喜于避开争论，不对他人强加已见或价值观',
                    '• 无意于领导却常是忠诚的追随者',
                    '• 办事不急躁，安于现状无意于以过度的急切或努力破坏现况，且非成果导向',
                    '• 喜欢有自由的空间及照自订的时程办事'
                ],
                jobs: [
                    '• 艺术家、设计师',
                    '• 厨师、美食家',
                    '• 护士、医生',
                    '• 教师、辅导员',
                    '• 摄影师、音乐家'
                ],
                detailed: 'ISFP型的人平和、敏感，他们保持着许多强烈的个人理想和自己的价值观念。他们更多地是通过行为而不是言辞表达自己深沉的情感。ISFP型的人谦虚而缄默，但实际上他们是具有巨大的友爱和热情之人，但是除了与他们相知和信赖的人在一起外，他们不经常表现出自我的另一面。',
                relationship: 'ISFP型的人在人际关系中表现出敏感和艺术的特点。他们重视感官体验和美的感受，喜欢与他人建立深度的情感连接。他们可能显得害羞和内敛，但对于真正了解他们的人来说，他们是温暖和支持的伴侣。'
            },
            INFP: {
                name: '调停者型人格',
                description: '理想主义善良，重视价值观一致性',
                traits: [
                    '• 安静观察者，具理想性与对其价值观及重要之人具忠诚心',
                    '• 希外在生活形态与内在价值观相吻合',
                    '• 具好奇心且很快能看出机会所在，常担负开发创意的触媒者',
                    '• 除非价值观受侵犯，行事会具弹性、适应力高且承受力强',
                    '• 具想了解及发展他人潜能的企图，想作太多且作事全神贯注'
                ],
                jobs: [
                    '• 作家、诗人',
                    '• 心理咨询师、治疗师',
                    '• 教师、教授',
                    '• 艺术家、设计师',
                    '• 社工、志愿者'
                ],
                detailed: 'INFP把内在的和谐视为高于其他一切。他们敏感、理想化、忠诚，对于个人价值具有一种强烈的荣誉感。他们个人信仰坚定，有为自认为有价值的事业献身的精神。INFP型的人对于已知事物之外的可能性很感兴趣，精力集中于他们的梦想和想象。',
                relationship: 'INFP型的人在人际关系中表现出理想主义和善良的特点。他们重视价值观的一致性，追求精神层面的连接。他们可能显得理想主义和内敛，但对于真正了解他们的人来说，他们是忠诚和支持的朋友。'
            },
            INTP: {
                name: '逻辑学家型人格',
                description: '理性好奇，沉迷于理论和逻辑',
                traits: [
                    '• 安静、自持、弹性及具适应力',
                    '• 特别喜爱追求理论与科学事理',
                    '• 习于以逻辑及分析来解决问题',
                    '• 最有兴趣于创意事务及特定工作，对聚会与闲聊无大兴趣',
                    '• 追求可发挥个人强烈兴趣的生涯'
                ],
                jobs: [
                    '• 科学家、研究员',
                    '• 程序员、工程师',
                    '• 哲学家、学者',
                    '• 数学家、统计学家',
                    '• 设计师、发明家'
                ],
                detailed: 'INTP型的人是解决理性问题者。他们很有才智和条理性，以及创造才华的突出表现。INTP型的人外表平静、缄默、超然，内心却专心致志于分析问题。他们苛求精细、惯于怀疑。他们努力寻找和利用原则以理解许多想法。他们喜欢有条理和有目的的交谈，而且可能会仅仅为了高兴，争论一些无益而琐细的问题。',
                relationship: 'INTP型的人在人际关系中表现出理性和好奇的特点。他们重视智力上的连接，喜欢与有思想的人交流。他们可能显得冷漠和距离感，但对于真正了解他们的人来说，他们是忠诚和支持的伴侣。'
            },
            ESTP: {
                name: '企业家型人格',
                description: '务实果断，擅长即兴发挥',
                traits: [
                    '• 擅长现场实时解决问题—解决问题者',
                    '• 喜欢办事并乐于其中及过程',
                    '• 倾向于喜好技术事务及运动，交结同好友人',
                    '• 具适应性、容忍度、务实性；投注心力于会很快具成效工作',
                    '• 不喜欢冗长概念的解释及理论'
                ],
                jobs: [
                    '• 企业家、创业者',
                    '• 销售、营销人员',
                    '• 运动员、教练',
                    '• 警察、军人',
                    '• 工匠、技师'
                ],
                detailed: 'ESTP型的人不会焦虑，因为他们是快乐的。ESTP型的人活跃、随遇而安、天真率直。他们乐于享受现在的一切而不是为将来计划什么。ESTP型的人很现实，他们信任和依赖于自己对这个世界的感受。他们是好奇而热心的观察者。因为他们接受现在的一切，所以他们思维开阔，能够容忍自我和他人。',
                relationship: 'ESTP型的人在人际关系中表现出务实和果断的特点。他们喜欢即兴发挥，享受当下的时刻。他们可能显得冲动和直接，但对于真正了解他们的人来说，他们是有趣和支持的朋友。'
            },
            ESFP: {
                name: '表演者型人格',
                description: '格外向热情，享受社交关注',
                traits: [
                    '• 外向、和善、接受性、乐于分享喜乐予他人',
                    '• 喜欢与他人一起行动且促成事件发生，在学习时亦然',
                    '• 知晓事件未来的发展并会热列参与',
                    '• 最擅长于人际相处能力及具备完备常识，很有弹性能立即适应他人与环境',
                    '• 对生命、人、物质享受的热爱者'
                ],
                jobs: [
                    '• 演员、主持人',
                    '• 销售、营销人员',
                    '• 教师、辅导员',
                    '• 护士、医生',
                    '• 公关、活动策划'
                ],
                detailed: 'ESFP型的人乐意与人相处，有一种真正的生活热情。他们顽皮活泼，通过真诚和玩笑使别人感到事情更加有趣。ESFP型的人脾气随和、适应性强，热情友好和慷慨大方。他们擅长交际，常常是别人的"注意中心"。他们热情而乐于合作地参加各种活动和节目，而且通常立刻能应对几种活动。',
                relationship: 'ESFP型的人在人际关系中表现出外向和热情的特点。他们享受社交关注，喜欢成为众人的焦点。他们可能显得情绪化和冲动，但对于真正了解他们的人来说，他们是有趣和支持的伴侣。'
            },
            ENFP: {
                name: '竞选者型人格',
                description: '创意热情，擅长激励他人',
                traits: [
                    '• 充满热忱、活力充沛、聪明的、富想象力的，视生命充满机会但期能得自他人肯定与支持',
                    '• 几乎能达成所有有兴趣的事',
                    '• 对难题很快就有对策并能对有困难的人施予援手',
                    '• 依赖能改善的能力而无须预作规划准备',
                    '• 为达目的常能找出强制自己为之的理由'
                ],
                jobs: [
                    '• 营销策划、广告人员',
                    '• 教师、培训师',
                    '• 作家、记者',
                    '• 心理咨询师、治疗师',
                    '• 创业者、企业家'
                ],
                detailed: 'ENFP型的人充满热情和新思想。他们乐观、自然、富有创造性和自信，具有独创性的思想和对可能性的强烈感受。对于ENFP型的人来说，生活是激动人生的戏剧。ENFP型的人对可能性很感兴趣，所以他们了解所有事物中的深远意义。他们具有洞察力，是热情的观察者，注意常规以外的任何事物。',
                relationship: 'ENFP型的人在人际关系中表现出创意和热情的特点。他们擅长激励他人，喜欢与他人分享自己的想法和感受。他们可能显得理想主义和冲动，但对于真正了解他们的人来说，他们是有趣和支持的朋友。'
            },
            ENTP: {
                name: '辩论家型人格',
                description: '聪明好辩，擅长批判思维',
                traits: [
                    '• 反应快、聪明、长于多样事务',
                    '• 具激励伙伴、敏捷及直言讳专长',
                    '• 会为了有趣对问题的两面加予争辩',
                    '• 对解决新及挑战性的问题富有策略，但会轻忽或厌烦经常的任务与细节',
                    '• 兴趣多元，易倾向于转移至新生的兴趣'
                ],
                jobs: [
                    '• 律师、法官',
                    '• 企业家、创业者',
                    '• 记者、评论家',
                    '• 科学家、研究员',
                    '• 设计师、发明家'
                ],
                detailed: 'ENTP型的人喜欢兴奋与挑战。他们热情开放、足智多谋、健谈而聪明，擅长于许多事情，不断追求增加能力和个人权力。ENTP型的人天生富有想象力，他们深深地喜欢新思想，留心一切可能性。他们有很强的首创精神，善于运用创造冲动。',
                relationship: 'ENTP型的人在人际关系中表现出聪明和好辩的特点。他们擅长批判思维，喜欢与他人进行智力上的较量。他们可能显得辩论和好胜，但对于真正了解他们的人来说，他们是有趣和支持的伴侣。'
            },
            ESTJ: {
                name: '执行官型人格',
                description: '果断严谨，擅长组织管理',
                traits: [
                    '• 讲求实际，注重现实，注重事实',
                    '• 果断，很快作出实际可行的决定',
                    '• 善于将项目和人组织起来将事情完成，并尽可能以最有效率的方法达到目的',
                    '• 能够注意日常例行工作的细节',
                    '• 有一套清晰的逻辑标准，有系统性地遵循，并希望他人也同样遵循'
                ],
                jobs: [
                    '• 管理者、行政人员',
                    '• 警察、军人',
                    '• 律师、法官',
                    '• 会计师、审计师',
                    '• 教师、教授'
                ],
                detailed: 'ESTJ型的人高效率地工作，自我负责，监督他人工作，合理分配和处置资源，主次分明，井井有条；能制定和遵守规则，多喜欢在制度健全、等级分明、比较稳定的企业工作；倾向于选择较为务实的业务，以有形产品为主；喜欢工作中带有和人接触、交流的成分，但不以态度取胜；不特别强调工作的行业或兴趣，多以职业角度看待每一份工作。',
                relationship: 'ESTJ型的人在人际关系中表现出果断和严谨的特点。他们擅长组织管理，喜欢有秩序和结构的环境。他们可能显得严格和传统，但对于真正了解他们的人来说，他们是可靠和支持的朋友。'
            },
            ESFJ: {
                name: '领事型人格',
                description: '友好助人，擅长协调关系',
                traits: [
                    '• 诚挚、爱说话、合作性高、受欢迎、光明正大的—天生的合作者及活跃的组织成员',
                    '• 重和谐且长于创造和谐',
                    '• 常作对他人有益事务',
                    '• 给予鼓励及称许会有更佳工作成效',
                    '• 最有兴趣于会直接及有形影响人们生活的事务'
                ],
                jobs: [
                    '• 教师、辅导员',
                    '• 护士、医生',
                    '• 公关、活动策划',
                    '• 行政助理、秘书',
                    '• 社工、志愿者'
                ],
                detailed: 'ESFJ型的人通过直接的行动和合作积极地以真实、实际的方法帮助别人。他们友好、富有同情心和责任感。ESFJ型的人把他们同别人的关系放在十分重要的位置，所以他们往往具有和睦的人际关系，并且通过很大的努力以获得和维持这种关系。事实上，他们常常理想化自己欣赏的人或物。',
                relationship: 'ESFJ型的人在人际关系中表现出友好和助人的特点。他们擅长协调关系，重视他人的感受和需要。他们可能显得传统和保守，但对于真正了解他们的人来说，他们是温暖和支持的伴侣。'
            },
            ENFJ: {
                name: '主人公型人格',
                description: '热情有号召力，擅长凝聚团队',
                traits: [
                    '• 热忱、易感应及负责任的—具能鼓励他人的领导风格',
                    '• 对别人所想或希求会表达真正关切且切实用心去处理',
                    '• 能怡然且技巧性地带领团体讨论或演示文稿提案',
                    '• 爱交际、受欢迎及富同情心',
                    '• 对称许及批评很在意'
                ],
                jobs: [
                    '• 领导者、管理者',
                    '• 教师、教授',
                    '• 心理咨询师、治疗师',
                    '• 作家、记者',
                    '• 公关、活动策划'
                ],
                detailed: 'ENFJ型的人热爱人类，他们认为人的感情是最重要的。而且他们很自然地关心别人，以热情的态度对待生命，感受与个人相关的所有事物。由于他们很理想化，按照自己的价值观生活，因此ENFJ型的人对于他们所尊重和敬佩的人、事业和机构非常忠诚。他们精力充沛、满腔热情、富有责任感、勤勤勤恳恳、锲而不舍。',
                relationship: 'ENFJ型的人在人际关系中表现出热情和号召力的特点。他们擅长凝聚团队，重视他人的成长和发展。他们可能显得理想化和感性，但对于真正了解他们的人来说，他们是支持和激励的朋友。'
            },
            ENTJ: {
                name: '指挥官型人格',
                description: '自信决断，擅长战略领导',
                traits: [
                    '• 坦诚、具决策力的活动领导者',
                    '• 长于发展与实施广泛的系统以解决组织的问题',
                    '• 专精于具内涵与智能的谈话如对公众演讲',
                    '• 乐于经常吸收新知且能广开信息管道',
                    '• 易生过度自信，会强于表达自已创见'
                ],
                jobs: [
                    '• CEO、总经理',
                    '• 政治家、军事家',
                    '• 律师、法官',
                    '• 企业家、创业者',
                    '• 科学家、研究员'
                ],
                detailed: 'ENTJ型的人是伟大的领导者和决策人。他们能轻易地看出事物具有的可能性，很高兴指导别人，使他们的想象成为现实。他们是头脑灵活的思想家和伟大的长远规划者。因为ENTJ型的人很有条理和分析能力，所以他们通常对要求推理和才智的任何事情都很擅长。为了在完成工作中称职，他们通常会很自然地看出所处情况中可能存在的缺陷，并且立刻知道如何改进。',
                relationship: 'ENTJ型的人在人际关系中表现出自信和决断的特点。他们擅长战略领导，喜欢有挑战性和有意义的工作。他们可能显得强势和直接，但对于真正了解他们的人来说，他们是支持和激励的伴侣。'
            }
        };

        // 全局变量
        let currentQuestion = 0;
        let userAnswers = {};
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        let selectedTestMode = null;
        let currentScenario = 0;
        let currentScenarioQuestion = 0;
        let currentQuestions = [];

        // DOM元素
        const welcomePage = document.getElementById('welcome-page');
        const testPage = document.getElementById('test-page');
        const resultPage = document.getElementById('result-page');
        const startTestBtn = document.getElementById('start-test');
        const startFirstQuestionBtn = document.getElementById('start-first-question');
        const introCard = document.getElementById('intro-card');
        const questionCard = document.getElementById('question-card');
        const quickScenarioCard = document.getElementById('quick-scenario-card');
        const prevQuestionBtn = document.getElementById('prev-question');
        const nextQuestionBtn = document.getElementById('next-question');
        const submitTestBtn = document.getElementById('submit-test');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const dimensionIcon = document.getElementById('dimension-icon');
        const dimensionName = document.getElementById('dimension-name');
        const dimensionDescription = document.getElementById('dimension-description');
        const scenarioText = document.getElementById('scenario-text');
        const questionText = document.getElementById('question-text');
        const quickScenarioTitle = document.getElementById('quick-scenario-title');
        const quickScenarioSubtitle = document.getElementById('quick-scenario-subtitle');
        const quickScenarioText = document.getElementById('quick-scenario-text');
        const quickQuestionText = document.getElementById('quick-question-text');
        const ratingBtns = document.querySelectorAll('.rating-btn');
        const themeToggle = document.getElementById('theme-toggle');
        const navbar = document.getElementById('navbar');
        const shareResultBtn = document.getElementById('share-result');
        const retakeTestBtn = document.getElementById('retake-test');
        const viewAllTypesBtn = document.getElementById('view-all-types');
        const allTypesModal = document.getElementById('all-types-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const traditionalTestCard = document.getElementById('traditional-test');
        const quickTestCard = document.getElementById('quick-test');
        const personalityTypeCards = document.querySelectorAll('.personality-type-card');
        const helpBtn = document.getElementById('help-btn');
        const helpModal = document.getElementById('help-modal');
        const closeHelpModalBtn = document.getElementById('close-help-modal');

        // 事件监听器
        startTestBtn.addEventListener('click', startTest);
        startFirstQuestionBtn.addEventListener('click', showFirstQuestion);
        prevQuestionBtn.addEventListener('click', showPreviousQuestion);
        nextQuestionBtn.addEventListener('click', showNextQuestion);
        submitTestBtn.addEventListener('click', showResults);
        themeToggle.addEventListener('click', toggleTheme);
        shareResultBtn.addEventListener('click', shareResult);
        retakeTestBtn.addEventListener('click', retakeTest);
        viewAllTypesBtn.addEventListener('click', showAllTypesModal);
        closeModalBtn.addEventListener('click', closeAllTypesModal);
        allTypesModal.addEventListener('click', function(e) {
            if (e.target === allTypesModal) {
                closeAllTypesModal();
            }
        });

        // 帮助按钮事件
        helpBtn.addEventListener('click', showHelpModal);
        closeHelpModalBtn.addEventListener('click', closeHelpModal);
        helpModal.addEventListener('click', function(e) {
            if (e.target === helpModal) {
                closeHelpModal();
            }
        });

        // 测试模式选择
        traditionalTestCard.addEventListener('click', function() {
            selectTestMode('traditional');
        });

        quickTestCard.addEventListener('click', function() {
            selectTestMode('quick');
        });

        // 性格类型卡片点击事件
        personalityTypeCards.forEach(card => {
            card.addEventListener('click', function() {
                const type = this.getAttribute('data-type');
                showPersonalityTypeDetails(type);
            });
        });

        ratingBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                selectRating(this);
            });
        });

        // 滚动效果
        window.addEventListener('scroll', function() {
            if (window.scrollY > 10) {
                navbar.classList.add('shadow-lg');
                navbar.classList.add('bg-white/95');
                navbar.classList.remove('bg-white');
            } else {
                navbar.classList.remove('shadow-lg');
                navbar.classList.remove('bg-white/95');
                navbar.classList.add('bg-white');
            }
        });

        // 检查URL中的结果参数
        window.addEventListener('load', function() {
            const urlParams = new URLSearchParams(window.location.hash.substring(1));
            const resultType = urlParams.get('result');
            
            if (resultType && personalityTypes[resultType]) {
                // 直接显示结果页面
                welcomePage.classList.add('hidden');
                testPage.classList.add('hidden');
                resultPage.classList.remove('hidden');
                
                // 更新结果页面
                updateResultPage(resultType);
            }
        });

        // 函数定义
        function selectTestMode(mode) {
            selectedTestMode = mode;
            
            // 重置所有卡片样式
            traditionalTestCard.classList.remove('selected');
            quickTestCard.classList.remove('selected');
            
            // 设置选中卡片样式
            if (mode === 'traditional') {
                traditionalTestCard.classList.add('selected');
            } else {
                quickTestCard.classList.add('selected');
            }
            
            // 启用开始测试按钮
            startTestBtn.disabled = false;
        }

        function startTest() {
            if (!selectedTestMode) {
                alert('请先选择测试模式');
                return;
            }
            
            welcomePage.classList.add('hidden');
            testPage.classList.remove('hidden');
            
            // 初始化测试数据
            if (selectedTestMode === 'traditional') {
                currentQuestions = traditionalQuestions;
            } else {
                currentQuestions = [];
                // 构建快速测试的问题列表
                quickQuestions.forEach((scenario, scenarioIndex) => {
                    scenario.questions.forEach((question, questionIndex) => {
                        currentQuestions.push({
                            scenario: scenario.scenario,
                            question: question.question,
                            dimension: question.dimension,
                            weights: question.weights,
                            scenarioIndex: scenarioIndex,
                            questionIndex: questionIndex
                        });
                    });
                });
            }
            
            // 添加过渡动画
            testPage.style.opacity = '0';
            setTimeout(() => {
                testPage.style.opacity = '1';
                testPage.style.transition = 'opacity 0.5s ease';
            }, 100);
        }

        function showFirstQuestion() {
            introCard.classList.add('hidden');
            
            if (selectedTestMode === 'traditional') {
                questionCard.classList.remove('hidden');
                quickScenarioCard.classList.add('hidden');
            } else {
                questionCard.classList.add('hidden');
                quickScenarioCard.classList.remove('hidden');
                // 设置第一个情景
                currentScenario = 0;
                currentScenarioQuestion = 0;
                updateQuickScenario();
            }
            
            currentQuestion = 0;
            updateQuestion();
            updateProgress();
            showNavigationButtons();
        }

        function updateQuestion() {
            const question = currentQuestions[currentQuestion];
            
            if (selectedTestMode === 'traditional') {
                // 更新维度信息
                dimensionIcon.className = `w-8 h-8 bg-mbti-${question.dimension.split('/')[0].toLowerCase()} rounded-lg flex items-center justify-center`;
                dimensionIcon.innerHTML = `<span class="text-white font-bold text-sm">${question.dimension}</span>`;
                dimensionName.textContent = question.dimensionName;
                dimensionDescription.textContent = question.dimensionDesc;
                
                // 更新情景和问题
                scenarioText.textContent = question.scenario;
                questionText.textContent = question.question;
            } else {
                // 快速测试模式
                quickQuestionText.textContent = question.question;
            }
            
            // 重置评分按钮状态
            ratingBtns.forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // 如果已有答案，恢复选中状态
            if (userAnswers[currentQuestion]) {
                const selectedBtn = document.querySelector(`.rating-btn[data-value="${userAnswers[currentQuestion]}"]`);
                if (selectedBtn) {
                    selectRating(selectedBtn);
                }
            }
        }

        function updateQuickScenario() {
            const scenario = quickQuestions[currentScenario];
            
            quickScenarioTitle.textContent = `情景 ${currentScenario + 1}/${quickQuestions.length}`;
            quickScenarioSubtitle.textContent = `问题 ${currentScenarioQuestion + 1}/4`;
            quickScenarioText.textContent = scenario.scenario;
            
            // 更新问题
            const question = scenario.questions[currentScenarioQuestion];
            quickQuestionText.textContent = question.question;
        }

        function selectRating(btn) {
            // 移除所有按钮的选中状态
            ratingBtns.forEach(b => {
                b.classList.remove('selected');
            });
            
            // 添加当前按钮的选中状态
            btn.classList.add('selected');
            
            // 记录答案
            const selectedValue = btn.getAttribute('data-value');
            userAnswers[currentQuestion] = selectedValue;
            
            // 更新分数
            updateScores(selectedValue);
        }

        function updateScores(selectedValue) {
            const question = currentQuestions[currentQuestion];
            const weight = question.weights[selectedValue];
            
            // 重置当前问题的分数影响
            if (userAnswers[currentQuestion + '_prev']) {
                const prevWeight = question.weights[userAnswers[currentQuestion + '_prev']];
                for (const [key, value] of Object.entries(prevWeight)) {
                    scores[key] -= value;
                }
            }
            
            // 添加新的分数影响
            for (const [key, value] of Object.entries(weight)) {
                scores[key] += value;
            }
            
            // 保存之前的选择用于后续更新
            userAnswers[currentQuestion + '_prev'] = selectedValue;
        }

        function updateProgress() {
            const totalQuestions = currentQuestions.length;
            const progress = ((currentQuestion + 1) / totalQuestions) * 100;
            progressBar.style.width = `${progress}%`;
            
            if (selectedTestMode === 'traditional') {
                progressText.textContent = `${currentQuestion + 1}/${totalQuestions}`;
            } else {
                const scenarioProgress = (currentScenario * 4) + currentScenarioQuestion + 1;
                progressText.textContent = `${scenarioProgress}/${totalQuestions}`;
            }
        }

        function showNavigationButtons() {
            prevQuestionBtn.classList.toggle('hidden', currentQuestion === 0);
            
            if (currentQuestion === currentQuestions.length - 1) {
                nextQuestionBtn.classList.add('hidden');
                submitTestBtn.classList.remove('hidden');
            } else {
                nextQuestionBtn.classList.remove('hidden');
                submitTestBtn.classList.add('hidden');
            }
        }

        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                
                if (selectedTestMode === 'quick') {
                    // 更新情景和问题索引
                    currentScenarioQuestion--;
                    if (currentScenarioQuestion < 0) {
                        currentScenario--;
                        currentScenarioQuestion = 3; // 每个情景有4个问题
                    }
                    updateQuickScenario();
                }
                
                updateQuestion();
                updateProgress();
                showNavigationButtons();
                scrollToTop();
            }
        }

        function showNextQuestion() {
            if (currentQuestion < currentQuestions.length - 1) {
                // 检查是否已回答当前问题
                if (!userAnswers[currentQuestion]) {
                    alert('请选择一个评分后继续');
                    return;
                }
                
                currentQuestion++;
                
                if (selectedTestMode === 'quick') {
                    // 更新情景和问题索引
                    currentScenarioQuestion++;
                    if (currentScenarioQuestion > 3) {
                        currentScenario++;
                        currentScenarioQuestion = 0;
                    }
                    updateQuickScenario();
                }
                
                updateQuestion();
                updateProgress();
                showNavigationButtons();
                scrollToTop();
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function showResults() {
            // 检查是否所有问题都已回答
            if (Object.keys(userAnswers).filter(key => !key.includes('_prev')).length < currentQuestions.length) {
                alert('请回答所有问题后再提交');
                return;
            }
            
            // 计算性格类型
            const personalityType = calculatePersonalityType();
            
            // 更新结果页面
            updateResultPage(personalityType);
            
            // 显示结果页面
            testPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            
            // 添加过渡动画
            resultPage.style.opacity = '0';
            setTimeout(() => {
                resultPage.style.opacity = '1';
                resultPage.style.transition = 'opacity 0.5s ease';
            }, 100);
        }

        function calculatePersonalityType() {
            let type = '';
            
            // E/I维度
            type += scores.E > scores.I ? 'E' : 'I';
            
            // S/N维度
            type += scores.S > scores.N ? 'S' : 'N';
            
            // T/F维度
            type += scores.T > scores.F ? 'T' : 'F';
            
            // J/P维度
            type += scores.J > scores.P ? 'J' : 'P';
            
            return type;
        }

        function updateResultPage(personalityType) {
            const typeData = personalityTypes[personalityType] || personalityTypes.ISTJ;
            
            // 更新基本信息
            document.getElementById('personality-code').textContent = personalityType;
            document.getElementById('personality-name').textContent = typeData.name;
            document.getElementById('personality-description').textContent = typeData.description;
            
            // 更新维度标签
            const dimensionTags = document.querySelectorAll('#result-page .rounded-full');
            dimensionTags[0].textContent = scores.E > scores.I ? '外向' : '内向';
            dimensionTags[0].className = `px-3 py-1 bg-mbti-${scores.E > scores.I ? 'e' : 'i'} text-white rounded-full text-sm font-medium`;
            
            dimensionTags[1].textContent = scores.S > scores.N ? '实感' : '直觉';
            dimensionTags[1].className = `px-3 py-1 bg-mbti-${scores.S > scores.N ? 's' : 'n'} text-white rounded-full text-sm font-medium`;
            
            dimensionTags[2].textContent = scores.T > scores.F ? '思考' : '情感';
            dimensionTags[2].className = `px-3 py-1 bg-mbti-${scores.T > scores.F ? 't' : 'f'} text-white rounded-full text-sm font-medium`;
            
            dimensionTags[3].textContent = scores.J > scores.P ? '判断' : '感知';
            dimensionTags[3].className = `px-3 py-1 bg-mbti-${scores.J > scores.P ? 'j' : 'p'} text-white rounded-full text-sm font-medium`;
            
            // 更新性格特点
            const traitsList = document.getElementById('personality-traits');
            traitsList.innerHTML = '';
            typeData.traits.forEach(trait => {
                const li = document.createElement('li');
                li.innerHTML = trait;
                traitsList.appendChild(li);
            });
            
            // 更新适合职业
            const jobsList = document.getElementById('suitable-jobs');
            jobsList.innerHTML = '';
            typeData.jobs.forEach(job => {
                const li = document.createElement('li');
                li.innerHTML = job;
                jobsList.appendChild(li);
            });
            
            // 更新详细分析
            document.getElementById('detailed-analysis').textContent = typeData.detailed;
            document.getElementById('relationship-analysis').textContent = typeData.relationship;
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                document.body.classList.add('bg-gray-900', 'text-white');
                document.body.classList.remove('bg-gray-50', 'text-gray-800');
                themeToggle.innerHTML = '<i class="fa fa-sun-o mr-2"></i>亮色模式';
            } else {
                document.body.classList.remove('bg-gray-900', 'text-white');
                document.body.classList.add('bg-gray-50', 'text-gray-800');
                themeToggle.innerHTML = '<i class="fa fa-moon-o mr-2"></i>暗色模式';
            }
        }

        function shareResult() {
            const personalityType = calculatePersonalityType();
            const typeData = personalityTypes[personalityType] || personalityTypes.ISTJ;
            
            const shareText = `我刚刚完成了MBTI性格测试，结果是${personalityType} - ${typeData.name}！${typeData.description} 快来测试看看你的性格类型吧！`;
            
            // 创建包含结果的URL
            const resultUrl = `${window.location.origin}${window.location.pathname}#result=${personalityType}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'MBTI性格测试结果',
                    text: shareText,
                    url: resultUrl
                });
            } else {
                // 复制到剪贴板
                navigator.clipboard.writeText(`${shareText}\n\n测试链接：${resultUrl}`).then(() => {
                    alert('结果和链接已复制到剪贴板！');
                });
            }
        }

        function retakeTest() {
            // 重置状态
            currentQuestion = 0;
            userAnswers = {};
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            selectedTestMode = null;
            currentScenario = 0;
            currentScenarioQuestion = 0;
            
            // 重置测试模式选择
            traditionalTestCard.classList.remove('selected');
            quickTestCard.classList.remove('selected');
            startTestBtn.disabled = true;
            
            // 显示欢迎页面
            resultPage.classList.add('hidden');
            welcomePage.classList.remove('hidden');
            
            // 重置进度
            progressBar.style.width = '1.67%';
            progressText.textContent = '1/60';
        }

        function showAllTypesModal() {
            allTypesModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeAllTypesModal() {
            allTypesModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function showHelpModal() {
            helpModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeHelpModal() {
            helpModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function showPersonalityTypeDetails(type) {
            // 更新结果页面显示选中的性格类型
            updateResultPage(type);
            
            // 关闭模态框并显示结果页面
            closeAllTypesModal();
            
            // 如果当前不在结果页面，切换到结果页面
            if (!resultPage.classList.contains('hidden')) {
                // 已经在结果页面，只需要更新内容
                return;
            }
            
            welcomePage.classList.add('hidden');
            testPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            
            // 添加过渡动画
            resultPage.style.opacity = '0';
            setTimeout(() => {
                resultPage.style.opacity = '1';
                resultPage.style.transition = 'opacity 0.5s ease';
            }, 100);
        }
    </script>
</body>
</html>